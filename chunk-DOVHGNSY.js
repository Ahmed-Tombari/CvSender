import{M as W,a as ee,b as v,c as te,d as ie,g as ne,h as re,i as oe,j as ae,l as le,n as se,o as de,w as j,z as ce}from"./chunk-XZB7LDUF.js";import{b as X}from"./chunk-IQZB2DS2.js";import{$b as Y,Ab as P,Bb as d,Cb as m,D as J,Db as _,E as A,Ea as r,Ha as F,Ka as I,Nb as $,Ob as K,Sa as L,Ta as M,Z as D,_ as z,a as U,b as G,bb as h,ca as f,cb as p,eb as B,fb as N,gb as b,gc as Q,h as H,ha as x,hb as o,ia as C,ib as a,ja as E,jb as g,k as V,ka as R,ma as Z,nb as O,pb as w,q,ra as k,rb as u}from"./chunk-YCGGWR4I.js";var T=class t{http=f(Q);webhookUrl="http://localhost:5678/webhook-test/0f0e99cd-a09f-4c7d-aa1c-37be37069d84";storageKey="chat_session_id";constructor(){this.initializeSession()}initializeSession(){if(!sessionStorage.getItem(this.storageKey)){let n=crypto.randomUUID?crypto.randomUUID():this.generateFallbackUUID();sessionStorage.setItem(this.storageKey,n)}}getSessionId(){return sessionStorage.getItem(this.storageKey)||this.initializeSession(),sessionStorage.getItem(this.storageKey)||""}generateFallbackUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{let e=Math.random()*16|0;return(n==="x"?e:e&3|8).toString(16)})}sendApply(n){let e=G(U({},n),{sessionId:this.getSessionId()});return this.http.post(this.webhookUrl,e)}static \u0275fac=function(e){return new(e||t)};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})};var fe=(t,n)=>n.code,me=(t,n)=>n.id;function ge(t,n){t&1&&(o(0,"span",32),d(1,"\u2713"),a())}function _e(t,n){if(t&1){let e=O();o(0,"div",30),w("click",function(){let l=x(e).$implicit,c=u(3);return c.form.patchValue({language:l.code}),C(c.langOpen.set(!1))}),g(1,"span"),o(2,"span",31),d(3),a(),h(4,ge,2,0,"span",32),a()}if(t&2){let e=n.$implicit,i=u(3);r(),P(e.flag+" fi w-5 h-3.5 mr-3 rounded-sm shadow-sm"),r(2),m(e.label),r(),p(i.form.value.language===e.code?4:-1)}}function ve(t,n){if(t&1&&(o(0,"div",11),B(1,_e,5,4,"div",29,fe),a()),t&2){let e=u(2);r(),N(e.languages)}}function xe(t,n){if(t&1&&d(0),t&2){let e=u(3);_(" ",e.i18n().requiredError," ")}}function Ce(t,n){if(t&1&&d(0),t&2){let e=u(3);_(" ",e.i18n().emailError," ")}}function be(t,n){if(t&1&&(o(0,"p",17),h(1,xe,1,1),h(2,Ce,1,1),a()),t&2){let e,i,l=u(2);r(),p((e=l.form.get("hr_email"))!=null&&e.hasError("required")?1:-1),r(),p((i=l.form.get("hr_email"))!=null&&i.hasError("email")?2:-1)}}function we(t,n){if(t&1&&(o(0,"p",17),d(1),a()),t&2){let e=u(2);r(),m(e.i18n().requiredError)}}function Se(t,n){if(t&1&&(o(0,"p",17),d(1),a()),t&2){let e=u(2);r(),m(e.i18n().requiredError)}}function ye(t,n){t&1&&(o(0,"span",32),d(1,"\u2713"),a())}function ke(t,n){if(t&1){let e=O();o(0,"div",34),w("click",function(){let l=x(e).$implicit,c=u(3);return c.form.patchValue({cv_name:l.id}),C(c.cvOpen.set(!1))}),o(1,"span",35),d(2),a(),h(3,ye,2,0,"span",32),a()}if(t&2){let e=n.$implicit,i=u(3);r(2),m(e.label),r(),p(i.form.value.cv_name===e.id?3:-1)}}function De(t,n){if(t&1&&(o(0,"div",22),B(1,ke,4,2,"div",33,me),a()),t&2){let e=u(2);r(),N(e.cvOptions)}}function Ee(t,n){if(t&1&&(o(0,"p",17),d(1),a()),t&2){let e=u(2);r(),m(e.i18n().cvError)}}function Re(t,n){if(t&1&&(o(0,"p",17),d(1),a()),t&2){let e=u(2);r(),m(e.i18n().requiredError)}}function Oe(t,n){if(t&1&&(o(0,"span"),d(1),a()),t&2){let e=u(2);r(),m(e.i18n().sendButton)}}function Te(t,n){if(t&1&&(o(0,"div",26),E(),o(1,"svg",36),g(2,"circle",37)(3,"path",38),a(),R(),o(4,"span"),d(5),a()()),t&2){let e=u(2);r(5),m(e.i18n().sendingButton)}}function Ve(t,n){if(t&1&&(o(0,"p",27),d(1),a()),t&2){let e=u(2);r(),m(e.error())}}function Ae(t,n){t&1&&(o(0,"div",28),g(1,"div",39),a())}function ze(t,n){if(t&1){let e=O();o(0,"div",0)(1,"div",1)(2,"button",2),w("click",function(){x(e);let l=u();return C(l.closed.emit())}),E(),o(3,"svg",3),g(4,"path",4),a()()(),R(),o(5,"div",5)(6,"h2",6),d(7),a(),o(8,"div",7)(9,"button",8),w("click",function(){x(e);let l=u();return C(l.toggleLang())}),g(10,"span"),o(11,"span"),d(12),a(),E(),o(13,"svg",9),g(14,"path",10),a()(),h(15,ve,3,0,"div",11),a()(),R(),o(16,"form",12),w("ngSubmit",function(){x(e);let l=u();return C(l.submit())}),o(17,"div",13)(18,"div")(19,"label",14),d(20),o(21,"span",15),d(22,"*"),a()(),g(23,"input",16),h(24,be,3,2,"p",17),a(),o(25,"div")(26,"label",14),d(27),o(28,"span",15),d(29,"*"),a()(),g(30,"input",18),h(31,we,2,1,"p",17),a()(),o(32,"div",13)(33,"div")(34,"label",14),d(35),o(36,"span",15),d(37,"*"),a()(),g(38,"input",19),h(39,Se,2,1,"p",17),a(),o(40,"div",7)(41,"label",14),d(42),o(43,"span",15),d(44,"*"),a()(),o(45,"button",20),w("click",function(){x(e);let l=u();return C(l.toggleCV())}),o(46,"span",21),d(47),a(),E(),o(48,"svg",9),g(49,"path",10),a()(),h(50,De,3,0,"div",22),h(51,Ee,2,1,"p",17),a()(),R(),o(52,"div")(53,"label",14),d(54),o(55,"span",15),d(56,"*"),a()(),g(57,"textarea",23),h(58,Re,2,1,"p",17),a(),o(59,"div",24)(60,"button",25),h(61,Oe,2,1,"span")(62,Te,6,1,"div",26),a()(),h(63,Ve,2,1,"p",27),a(),h(64,Ae,2,0,"div",28),a()}if(t&2){let e,i,l,c,y,s=u();r(7),m(s.i18n().dialogTitle),r(3),P(s.selectedLang().flag+" fi w-5 h-3.5 rounded-sm shadow-sm"),r(2),m(s.selectedLang().label),r(3),p(s.langOpen()?15:-1),r(),b("formGroup",s.form),r(4),_("",s.i18n().hrEmailLabel," "),r(3),b("placeholder",s.i18n().hrEmailPlaceholder),r(),p((e=s.form.get("hr_email"))!=null&&e.touched&&((e=s.form.get("hr_email"))!=null&&e.invalid)?24:-1),r(3),_("",s.i18n().positionLabel," "),r(3),b("placeholder",s.i18n().positionPlaceholder),r(),p((i=s.form.get("position"))!=null&&i.touched&&((i=s.form.get("position"))!=null&&i.invalid)?31:-1),r(4),_("",s.i18n().subjectLabel," "),r(3),b("placeholder",s.i18n().subjectPlaceholder),r(),p((l=s.form.get("subject"))!=null&&l.touched&&((l=s.form.get("subject"))!=null&&l.invalid)?39:-1),r(3),_("",s.i18n().cvLabel," "),r(5),m(s.selectedCV()),r(3),p(s.cvOpen()?50:-1),r(),p((c=s.form.get("cv_name"))!=null&&c.touched&&((c=s.form.get("cv_name"))!=null&&c.invalid)?51:-1),r(3),_("",s.i18n().descriptionLabel," "),r(3),b("placeholder",s.i18n().descriptionPlaceholder),r(),p((y=s.form.get("description"))!=null&&y.touched&&((y=s.form.get("description"))!=null&&y.invalid)?58:-1),r(2),b("disabled",s.loading()),r(),p(s.loading()?62:61),r(2),p(s.error()?63:-1),r(),p(s.loading()?64:-1)}}var he=class t{isOpen=K(!1);closed=$();fb=f(ae);svc=f(T);router=f(X);i18n=de;loading=k(!1);error=k(null);langOpen=k(!1);cvOpen=k(!1);languages=[{code:"English",label:"English",flag:"fi fi-gb"},{code:"French",label:"Fran\xE7ais",flag:"fi fi-fr"},{code:"Arabic",label:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629",flag:"fi fi-sa"}];cvOptions=[{id:"Cv-Ahmed-Tombari-Frontend",label:"Cv-Ahmed-Tombari-Frontend"},{id:"Cv-Ahmed-Tombari-Fullstack-Java-Angular",label:"Cv-Ahmed-Tombari-Fullstack-Java-Angular"},{id:"Cv-Ahmed-Tombari-Java-JEE",label:"Cv-Ahmed-Tombari-Java-JEE"}];form=this.fb.group({language:["English",v.required],hr_email:["",[v.required,v.email]],position:["",v.required],subject:["",v.required],description:["",v.required],cv_name:["",v.required]});constructor(){let n=this.detectLanguage();this.form.patchValue({language:n}),this.applyLanguageDefaults(n),this.form.get("language")?.valueChanges.subscribe(e=>{e&&this.applyLanguageDefaults(e)})}detectLanguage(){let n=(navigator.language||navigator.languages?.[0]||"en").toLowerCase();return n.startsWith("fr")?"French":n.startsWith("ar")?"Arabic":"English"}applyLanguageDefaults(n){let i={English:{code:"en",values:{language:"English",hr_email:"tombariahmed9@gmail.com",position:"Full Stack Java JEE / Angular Developer",subject:"Application \u2013 Full Stack Java Developer",description:"Ahmed Tombari \u2013 Full Stack Developer with 3 years of experience",cv_name:this.cvOptions[1].id}},French:{code:"fr",values:{language:"French",hr_email:"tombariahmed9@gmail.com",position:"D\xE9veloppeur Full Stack Java JEE / Angular",subject:"Candidature \u2013 D\xE9veloppeur Full Stack Java",description:"Ahmed Tombari \u2013 D\xE9veloppeur Full Stack avec 3 ans d'exp\xE9rience",cv_name:this.cvOptions[1].id}},Arabic:{code:"ar",values:{language:"Arabic",hr_email:"tombariahmed9@gmail.com",position:"\u0645\u0637\u0648\u0631 Full Stack Java JEE / Angular",subject:"\u0637\u0644\u0628 \u062A\u0648\u0638\u064A\u0641 \u2013 \u0645\u0637\u0648\u0631 Full Stack Java",description:"\u0623\u062D\u0645\u062F \u062A\u0648\u0645\u0628\u0627\u0631\u064A \u2013 \u0645\u0637\u0648\u0631 Full Stack \u062E\u0628\u0631\u0629 3 \u0633\u0646\u0648\u0627\u062A",cv_name:this.cvOptions[1].id}}}[n];i&&(se(i.code),this.form.patchValue(i.values,{emitEvent:!1}))}selectedLang(){return this.languages.find(n=>n.code===this.form.value.language)}selectedCV(){return this.cvOptions.find(n=>n.id===this.form.value.cv_name)?.label??this.i18n().cvPlaceholder}toggleLang(){this.langOpen.update(n=>!n)}toggleCV(){this.cvOpen.update(n=>!n)}submit(){if(this.form.invalid){this.form.markAllAsTouched();return}this.loading.set(!0),this.error.set(null);let n=this.form.value;this.svc.sendApply(n).subscribe({next:()=>{this.loading.set(!1),this.router.navigate(["/apply/success"]),this.closed.emit()},error:e=>{this.loading.set(!1),this.error.set(e?.message??this.i18n().errorDefault)}})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=L({type:t,selectors:[["app-apply-dialog"]],inputs:{isOpen:[1,"isOpen"]},outputs:{closed:"closed"},decls:1,vars:1,consts:[["role","dialog","aria-modal","true",1,"relative","max-w-3xl","glass-panel","p-8","mx-auto","animate-scale-in","shadow-2xl"],[1,"flex","justify-between","items-center","mb-6"],["type","button","aria-label","Close dialog",1,"absolute","top-4","right-4","p-2","bg-slate-50","dark:bg-slate-800","rounded-full","inline-flex","items-center","justify-center","text-slate-400","dark:text-slate-500","hover:text-slate-600","dark:hover:text-slate-300","hover:bg-slate-100","dark:hover:bg-slate-700","transition-colors",3,"click"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"flex","justify-between","items-center","mb-8"],[1,"text-3xl","font-bold","text-slate-800","dark:text-white","font-display","tracking-tight"],[1,"relative"],["type","button",1,"flex","items-center","gap-2","bg-slate-50","dark:bg-slate-800","border","border-slate-200","dark:border-slate-700","rounded-lg","px-4","py-2.5","shadow-sm","hover:bg-white","dark:hover:bg-slate-700","transition-all","text-slate-700","dark:text-slate-200","font-medium","text-sm",3,"click"],["viewBox","0 0 24 24","fill","none",1,"w-4","h-4","text-slate-400"],["d","M19 9l-7 7-7-7","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"absolute","right-0","mt-2","w-48","bg-white","dark:bg-slate-800","rounded-xl","shadow-xl","border","border-slate-100","dark:border-slate-700","z-50","overflow-hidden","animate-fade-in"],[1,"w-full","space-y-6",3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"block","text-slate-700","dark:text-slate-300","font-semibold","mb-2","text-sm"],[1,"text-red-500"],["type","email","formControlName","hr_email",1,"input-glass",3,"placeholder"],[1,"text-red-500","text-xs","mt-1.5","font-medium","animate-pulse"],["formControlName","position",1,"input-glass",3,"placeholder"],["formControlName","subject",1,"input-glass",3,"placeholder"],["type","button",1,"w-full","text-left","input-glass","flex","items-center","justify-between","cursor-pointer",3,"click"],[1,"truncate"],[1,"absolute","right-0","mt-2","w-full","bg-white","dark:bg-slate-800","rounded-xl","shadow-xl","border","border-slate-100","dark:border-slate-700","z-40","overflow-hidden","animate-fade-in"],["rows","5","formControlName","description",1,"input-glass","resize-none",3,"placeholder"],[1,"flex","justify-end","pt-4"],["type","submit",1,"w-full","md:w-auto","btn-gradient-primary","shadow-glow-primary","min-w-[200px]",3,"disabled"],[1,"flex","items-center","gap-2"],[1,"text-red-500","text-center","text-sm","font-medium","bg-red-50","dark:bg-red-900/20","p-3","rounded-lg","border","border-red-100","dark:border-red-900/30"],[1,"absolute","inset-0","bg-white/60","dark:bg-slate-900/60","backdrop-blur-sm","flex","items-center","justify-center","rounded-2xl","z-20"],[1,"px-4","py-3","hover:bg-slate-50","dark:hover:bg-slate-700","flex","items-center","cursor-pointer","transition-colors","border-b","border-slate-50","dark:border-slate-700","last:border-0"],[1,"px-4","py-3","hover:bg-slate-50","dark:hover:bg-slate-700","flex","items-center","cursor-pointer","transition-colors","border-b","border-slate-50","dark:border-slate-700","last:border-0",3,"click"],[1,"font-medium","text-slate-700","dark:text-slate-200","text-sm"],[1,"ml-auto","text-primary-DEFAULT","font-bold"],[1,"px-4","py-3","hover:bg-slate-50","dark:hover:bg-slate-700","cursor-pointer","flex","items-center","border-b","border-slate-50","dark:border-slate-700","last:border-0","transition-colors"],[1,"px-4","py-3","hover:bg-slate-50","dark:hover:bg-slate-700","cursor-pointer","flex","items-center","border-b","border-slate-50","dark:border-slate-700","last:border-0","transition-colors",3,"click"],[1,"text-sm","text-slate-700","dark:text-slate-200"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"h-12","w-12","border-4","border-primary-DEFAULT","border-t-transparent","rounded-full","animate-spin"]],template:function(e,i){e&1&&h(0,ze,65,26,"div",0),e&2&&p(i.isOpen()?0:-1)},dependencies:[Y,le,ne,ee,te,ie,re,oe],styles:["[_nghost-%COMP%]{display:block}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:scale(.98)}to{opacity:1;transform:scale(1)}}.animate-fadeIn[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .18s ease-out}"],changeDetection:0})};var S;function Xe(){if(S==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return S=!1,S;if(document.documentElement?.style&&"scrollBehavior"in document.documentElement.style)S=!0;else{let t=Element.prototype.scrollTo;t?S=!/\{\s*\[native code\]\s*\}/.test(t.toString()):S=!1}}return S}var Fe=20,ri=(()=>{class t{_ngZone=f(F);_platform=f(j);_renderer=f(I).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new V;_scrolledCount=0;scrollContainers=new Map;register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=Fe){return this._platform.isBrowser?new H(i=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let l=e>0?this._scrolled.pipe(A(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{l.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):q()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){let l=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(J(c=>!c||l.indexOf(c)>-1))}getAncestorScrollContainers(e){let i=[];return this.scrollContainers.forEach((l,c)=>{this._scrollableContainsElement(c,e)&&i.push(c)}),i}_scrollableContainsElement(e,i){let l=ce(i),c=e.getElementRef().nativeElement;do if(l==c)return!0;while(l=l.parentElement);return!1}static \u0275fac=function(i){return new(i||t)};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Ie=20,oi=(()=>{class t{_platform=f(j);_listeners;_viewportSize;_change=new V;_document=f(Z);constructor(){let e=f(F),i=f(I).createRenderer(null,null);e.runOutsideAngular(()=>{if(this._platform.isBrowser){let l=c=>this._change.next(c);this._listeners=[i.listen("window","resize",l),i.listen("window","orientationchange",l)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(e=>e()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:i,height:l}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+l,right:e.left+i,height:l,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,i=this._getWindow(),l=e.documentElement,c=l.getBoundingClientRect(),y=-c.top||e.body.scrollTop||i.scrollY||l.scrollTop||0,s=-c.left||e.body.scrollLeft||i.scrollX||l.scrollLeft||0;return{top:y,left:s}}change(e=Ie){return e>0?this._change.pipe(A(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static \u0275fac=function(i){return new(i||t)};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var pe=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=M({type:t});static \u0275inj=z({})}return t})(),ai=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=M({type:t});static \u0275inj=z({imports:[W,pe,W,pe]})}return t})();export{he as a,Xe as b,ri as c,oi as d,ai as e};
